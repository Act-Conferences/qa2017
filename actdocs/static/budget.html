[% WRAPPER ui title = global.conference.name %]

<style>
/* style for financial reports */
table.financial_report {
   margin: 0 0 3em 3em;
}
.financial_report th {
    text-align: left;
}
.financial_report td {
    padding-left: 1em;
    text-align: left;
}
.financial_section th {
    padding-top: 1em;
    text-align: left;
}
.amount {
   padding-left: 3em !important;
   text-align: right !important;
   width: 20%;
}
</style>

[% BLOCK financial_report ;
   grand_total = [ 0, 0, 0 ]
%]
<table class="financial_report">
<tr><th></th><th class="amount">&euro;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</th>
             <th class="amount">$&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</th>
			 <th class="amount">£&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</th></tr>
[% FOR section IN data ; title = section.shift %]
[% total = [ 0, 0, 0 ] ; content = '';
   FOR row IN section ;
   str = BLOCK %]
<tr>
[% IF row.0.substr(0,1) == '?' ; %]
  <td>[% row.0.substr(1) %]</td>
  <td class="amount" ><i>[% row.1 || '' | format('%.2f') %]</i></td>
  <td class="amount" ><i>[% row.2 || '' | format('%.2f') %]</i></td>
  <td class="amount" ><i>[% row.3 || '' | format('%.2f') %]</i></td>
[% ELSIF row.0.substr(0,1) == '=' ; %]
  <td>[% row.0.substr(1) %]</td>
  <td colspan="3">[% row.1 %]</td>
[% row.1 = 0 %]
[% ELSE %]
  <td>[% row.0 %]</td>
  <td class="amount" >[% row.1 || '' | format('%.2f') %]</td>
  <td class="amount" >[% row.2 || '' | format('%.2f') %]</td>
  <td class="amount" >[% row.3 || '' | format('%.2f') %]</td>
[% END;
   total.0 = total.0 + (row.1 || 0);
   total.1 = total.1 + (row.2 || 0);
   total.2 = total.2 + (row.3 || 0);
 %]
</tr>
[% END ; content = content _ str ; END %]
<tr class="financial_section">
  <th>[% title %]</th>
  <th class="amount">[% total.0 || '' | format('%.2f') %]</th>
  <th class="amount">[% total.1 || '' | format('%.2f') %]</th>
  <th class="amount">[% total.2 || '' | format('%.2f') %]</th>
</tr>
[% content %]
[% grand_total.0 = grand_total.0 + (total.0 || 0) %]
[% grand_total.1 = grand_total.1 + (total.1 || 0) %]
[% grand_total.2 = grand_total.2 + (total.2 || 0) %]
[% END %]
<tr class="financial_section">
  <th>Total</th>
  <th class="amount">[% grand_total.0 || 0 | format('%.2f') %]</th>
  <th class="amount">[% grand_total.1 || 0 | format('%.2f') %]</th>
  <th class="amount">[% grand_total.2 || 0 | format('%.2f') %]</th>
</tr>
</table>
[% END %]
[% BLOCK donations_in_kind %]
<table class="financial_report">
[% FOR section IN data %]
<tr><th>[% section.shift %]</th><th></th></tr>
[% FOR row IN section %]
<tr>
<td>[% row.0 %]</td>
<td>[% row.1 %]</td>
</tr>
[% END ; END %]
</table>
[% END %]

[% paypal_donations_eur = 0
   paypal_donations_usd = 0
   paypal_donations_gbp = 0
   paypal_fees_eur = ( 0               )                  # donations
                   + ( 0                                ) # travel refunds
   paypal_fees_usd = ( 0                              )   # individuals
                   + ( 31.50             )                    # sponsors
		   + ( 0           )                      # travel refunds
   paypal_fees_gbp = 0                        
   bank_fees = ( 0                     )                  # bank fees
             + ( 0                    )                   # change fees

   income = [
        [ 'Community sponsors',
            # sponsor name                 amount EUR   amount USD
            [ '?Perl QA Hackathon 2013 + EPO',    '', '', '1500.00' ],
            [ 'Les Mongueurs de Perl',     '500.00' ],
        ],
        [ 'Individual sponsors',
            [ 'PayPal "donate" button', paypal_donations_eur, paypal_donations_usd, paypal_donations_gbp ],
			[ 'Direct payment (cash/wire)', '0' ],
        ],
        [ 'Corporate sponsors',
		    [ 'WenZPerl B.V.' ,'1000' ],
		    [ 'Splio' ,'2000' ],
		    [ 'Booking.com' ,'5000' ],
		    [ '?Dyn' ,'0', '2000' ],
		    [ 'Eligo' ,'', '', '250' ],
		    [ '?Evozon' ,'500', '', '' ],
		    [ 'Campus Explorer' ,'500', '', '' ],
		    [ 'Grant Street Group' ,'', '800', '' ],
		    [ 'elasticsearch' ,'730', '', '' ],
        ],
        [ 'In-kind donations',
            [ "=Booking.com", 'Venue' ],
            [ '=Booking.com', "Travel and accommodation for Damien Krotkine (dams)" ],
            [ '=PROCURA',    "Travel and accommodation for H.Merijn Brand (Tux)" ],
            [ "=friprog.no", 'Travel and accommodation for Salve J. Nilsen (sjn)' ],
            [ "=madeinlove.co.uk", 'Travel for Barbie' ],
            [ '=WenZPerl B.V.', "Travel and accommodation for Liz and Wendy" ],
            [ '=WenZPerl B.V.', "Travel and accommodation for Tobias Leich (froggs)" ],
            [ '=The Perl Foundation', "Travel and accommodation for David Golden (xdg)" ],
            [ '=The Perl Foundation', "Travel and accommodation for Ricardo Signes (rjbs)" ],
       ],
    ];

   expenses = [
        [ 'Accommodation',
            [ '1 room, 2014-03-12 → 2014-03-16 (participant pays for half the room)', '134.00' ], # pjcj
            [ '1 room, 2014-03-12 → 2014-03-16', '268.00' ], # elbeho
            [ '2 rooms, 2014-03-12 → 2014-03-16 (participants pay for half the room)', '382.50' ], # timb, ether
            [ '3 rooms, 2014-03-12 → 2014-03-16', '804.00' ], # oalders + neilb, dams + maddingue, andk + slaven
            [ '1 room, 2014-03-12 → 2014-03-17 (participant pays for half the room)', '131.50' ], # abeltje
            [ '1 room, 2014-03-12 → 2014-03-17', '323.00' ], # barbie + ?
            [ '1 room, 2014-03-12 → 2014-03-17 (participant pays for half the room)', '182.75' ], # sjn + ribasushi
            [ '4 rooms, 2014-03-12 → 2014-03-17', '1292.00' ], # rjbs + xdg, mithaldu + mst, charsbar + haarg, tux + leont
            [ '1 room, 2014-03-12 → 2014-03-17 (plus two extra days paid by participant)', '365.50' ], # alh (pay 185.30)
            [ '?Remaining hotel costs', '500.00' ],
# booked but paid by others:
# 2014-03-12 → 2014-03-16: 134.00 EUR: pjcj (half the room)
# 2014-03-12 → 2014-03-17: 131.50 EUR: abeltje (half the room)
# 2014-03-12 → 2014-03-17: 191.25 EUR: timb
# 2014-03-12 → 2014-03-17: 191.25 EUR: ether
# 2014-03-12 → 2014-03-17: 182.75 EUR: sjn (half the room)
# 2014-03-12 → 2014-03-17: 323.00 EUR: rjbs + xdg
# 2014-03-12 → 2014-03-17: 323.00 EUR: froggs
# 2014-03-12 → 2014-03-17: 382.50 EUR: sno (pays the whole room)
# 2014-03-12 → 2014-03-19: 185.30 EUR: alh (two extra days)
        ],
        [ 'Catering',
            [ '?Breakfast/lunch/snacks for 4 days', '1400.00' ],
            [ 'Social dinner',                     '744.60' ],
        ],
        [ 'Bank fees',
            [ 'PayPal donations', paypal_fees_eur, paypal_fees_usd, paypal_fees_gbp ],
			[ 'Bank fees' , bank_fees ],
            [ '?Estimate',                '200.00' ],
        ],
        [ 'Travel refunds',
            [ 'Karen Etheridge (Ether)',    '', '1100.00' ],
            [ 'Christian Walde (Mithaldu)', '187.00' ],
            [ 'Leon Timmermans (leont)',     '230.00' ],
            [ 'Abe Timmerman (abeltje)',     '230.00' ],
            [ 'Matthew Horsfall (alh)',      '',      '1100.00' ],
            [ 'Peter Rabbitson (ribasushi)', '128.99' ],
            [ 'Kenichi Ishigaki (charsbar)', '568.00' ],
            [ 'Graham Knop (haarg)',        '',      '1000.00' ],
            [ 'Olaf Alders (oalders)',       '',      '1100.00' ],
            [ 'Paul Johnson (pjcj)',         '180.00' ],
            [ 'Curtis Poe (Ovid)', '326.30' ],
            [ 'Neil Bowers', '', '', '317.00' ],
            [ 'Olivier Mengué', '146.00' ],
            [ 'Sébastien Perghis-Tramoni', '130.00' ],
            [ '?Remaining travel costs',     '500.00' ],
        ],
        [ 'Misc',
            [ '?Estimate',                '100.00' ],
        ],
   ]
%]

<h1>The hackathon budget</h2>

<p>
This is the temporary budget. It has 3 columns,
one in EUR (€), one in USD ($), and one in GBP (£).
</p><p>
<b>All columns are important</b>, as we are given estimates and donations
in all currencies. Our bank account is in EUR, but our PayPal account
handles the three currencies. The final budget might include additional
conversion fees taken by banks and other intermediates.
</p>

<p>
At the end of the hackathon, a more detailed financial report will be available, likely in PDF</a>.
</p>


<h2><a name="income"></a>Income</h2>
<p>
The only income of the hackathon comes from our generous
<a href="[% make_uri('sponsors.html') %]">sponsors</a>.
Companies willing to sponsors are encouraged to <a href="[% make_uri('donate.html')%]">get in touch</a> with the organizers.
Individuals can also <a href="[% make_uri('donate.html')%]">donate using
PayPal</a>. Thanks a lot!
</p><p>
Announced but unpaid sponsorship are highlighted <i>italics</i>.
<br />
A sponsorship of 0&nbsp;€ means the company is willing to sponsor the event, but
the amount is not defined yet.
</p><p>
Some of our sponsors made in-kind donations instead of or in addition to
contributing financially to the budget.
</p>
[% PROCESS financial_report
   data = income 
%]

<h2><a name="expenses"></a>Expenses</h2>

<p>
The money given by our sponsors will be used to provide accommodation and
catering to the attendees, as well as refunding their travel costs.
</p><p>
<b>The following table contains a lot of estimates. This budget is not final.</b>
Estimates are highlighted in <i>italics</i>.
</p>
[% PROCESS financial_report
   data = expenses
%]

[% END %]

